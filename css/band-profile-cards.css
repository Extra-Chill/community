/**
 * CSS for Band Profile Cards displayed in the Band Directory (Forum 5432).
 */

.band-cards-container {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* Responsive grid */
    gap: 20px;
}

.bbp-band-item {
    margin-bottom: 0; /* Remove default list item margin if any */
    padding: 0; /* Remove default list item padding */
    border: 1px solid var(--border-color, #ddd); 
    background-color: var(--content-bg, #fff);
    border-radius: 5px;
    overflow: hidden; /* Ensure content respects border-radius */
    transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.bbp-band-item:hover {
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transform: translateY(-3px);
}

.band-card {
    display: flex;
    flex-direction: column; /* Stack image, details */
    height: 100%; /* Make cards in a row equal height implicitly */
}

/* New container for all visual elements (header image, profile pic, title overlay) */
.band-card-visuals-container {
    position: relative; /* Crucial for absolute positioning of profile pic and title */
    line-height: 0; /* Remove extra space around images */
    overflow: hidden; /* Optional: if rounded corners are desired for the whole visual block */
    /* Add a default background color in case no images load but we want a visual block */
    /* background-color: #f0f0f0; */ /* Example light gray, consider theme variable */
}

/* Placeholder for when header image is missing */
.band-card-header-image-placeholder {
    display: block;
    width: 100%;
    aspect-ratio: 16 / 9; /* Match the header image aspect ratio */
    background-color: #000000; /* Black background */
    position: relative; /* To allow for pseudo-elements if needed, and establish stacking context */
    z-index: 0; /* Behind profile picture (z-index: 3) and title (z-index: 2) */
}

/* Ensure the container has some height if it has a profile picture, 
   especially if there's no header image to give it height via aspect-ratio. */
.band-card-visuals-container.has-profile-picture {
    min-height: 110px; /* 80px (img) + 15px (bottom offset) + 15px (top space/padding) */
}

/* Wrapper for the header image itself */
.band-card-header-image-wrapper {
    position: relative; /* For the gradient overlay */
    width: 100%;
    line-height: 0; /* Ensure no extra space */
}

/* The actual header image */
.band-card-header-img {
    display: block; /* Remove any default inline spacing */
    width: 100%;
    height: auto; /* Maintain aspect ratio defined by aspect-ratio property */
    aspect-ratio: 16 / 9; /* Or your desired aspect ratio, e.g., 2 / 1 or 3 / 1 */
    object-fit: cover; /* Cover the area, cropping if needed */
}

/* Gradient overlay for the header image for text readability */
.band-card-header-image-wrapper::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 70%; /* Adjust height of gradient */
    background: linear-gradient(to top, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0) 100%);
    pointer-events: none; /* Allow clicking through */
    z-index: 1; /* Below title and profile picture */
}

/* Styles for the profile picture wrapper */
.band-card-profile-image {
    position: absolute;
    bottom: 15px; 
    left: 15px;
    width: 80px; /* Desired square size */
    height: 80px; /* Desired square size */
    border-radius: 0; /* Sharp square corners */
    overflow: hidden; /* Clip the image to the square bounds */
    border: 2px solid #fff; /* White border around profile pic */
    box-shadow: 0 1px 4px rgba(0,0,0,0.3);
    z-index: 3; /* Above header image and its gradient */
    border-radius: 15px;
}

/* The actual profile picture image */
.band-profile-pic-square {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensure image fills the square, cropping if necessary */
    border-radius: 15px; /* Ensure it's square even if original thumbnail is not */
}

/* Old .band-card-header and .band-card-image might be deprecated or need adjustment */
/* Commenting out for now, review if any part is still needed for non-visuals-container cases */
/*
.band-card-header {
    position: relative; 
    line-height: 0; 
}
.band-card-header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 70%; 
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
    pointer-events: none; 
    border-radius: 0 0 5px 5px; 
}
.band-card-image {
    line-height: 0; 
}
.band-card-image a {
    display: block;
}
.band-card-image img {
    max-width: 100%;
    height: auto;
    aspect-ratio: 16 / 9; 
    object-fit: cover; 
    border-bottom: 1px solid var(--border-color, #ddd);
}
*/

.band-card-details {
    padding: 15px;
    flex-grow: 1; /* Allow details to fill remaining card space */
    display: flex;
    flex-direction: column;
}

.band-card-title {
    /* Base style for the title when it's part of the visuals container */
    position: absolute;
    bottom: 10px;
    left: 15px; /* Default left when no profile pic, or if pic doesn't affect it */
    right: 15px;
    padding-left: 0;
    margin: 0;
    font-size: 1.4em;
    line-height: 1.3;
    z-index: 2; 
    color: var(--text-color); /* Default to standard text color */
    text-shadow: none; /* Default to no text shadow */
}

/* Styles for title when it IS an overlay (i.e., header image is present) */
.band-card-title.band-title-overlay {
    color: #fff; /* White text for contrast on gradient */
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
}

/* Adjust title's left position if there's a profile picture */
.band-card-visuals-container.has-profile-picture .band-card-title {
    left: calc(15px + 80px + 10px); /* profile_left_offset + profile_width + desired_gap */
}

.band-card-title a {
    text-decoration: none;
    color: inherit; /* Inherit color from parent h3 (.band-card-title or .band-title-overlay) */
}

.band-card-title.band-title-overlay a:hover {
    color: var(--accent, #53940b); /* Specific hover for overlay links */
}

/* Styles for title when NO images (neither header nor profile) are present */
.band-card-title.band-title-no-image {
    position: static !important; /* Override absolute positioning */
    color: var(--text-color) !important; /* Ensure standard text color */
    text-shadow: none !important; /* Ensure no text shadow */
    padding: 15px 15px 0 15px; /* Add some padding */
    margin: 0 0 10px 0; /* Add some bottom margin */
    left: auto !important; /* Reset any left positioning from .has-profile-picture rule */
    right: auto !important; /* Reset any right positioning */
}

.band-card-title.band-title-no-image a {
    color: var(--text-color) !important; /* Ensure link color matches */
}

.band-card-title.band-title-no-image a:hover {
    color: var(--accent, #53940b) !important; /* Standard accent hover */
    text-decoration: underline; 
}

.band-card-details p {
    font-size: 0.9em;
    color: var(--muted-text, #555);
    margin: 0 0 0.4em 0;
    line-height: 1.5;
}

/* Push activity/latest topic towards the bottom */
.band-card-activity,
.band-card-latest-topic {
    margin-top: auto; /* Pushes this down */
    padding-top: 0.5em; /* Add some space above */
    border-top: 1px dashed var(--separator-color, #eee);
}

.band-card-latest-topic a {
     color: var(--text-color, #333);
     text-decoration: none;
}

.band-card-latest-topic a:hover {
    color: var(--accent, #53940b);
    text-decoration: underline;
}

/* Responsive adjustments if needed */
@media (max-width: 600px) {
    .band-cards-container {
        grid-template-columns: 1fr; /* Single column on small screens */
    }
} 

.band-directory-manage-buttons {
    display: flex;
    flex-direction: row;
    gap: 10px;
    margin: 15px 0;
}

